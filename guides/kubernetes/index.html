<!doctype html><html lang=en class=no-js> <head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content="Project Nessie is a cloud native OSS service that works with Apache Iceberg to give your data lake cross-table transactions and a Git-like experience to data history."><link href="https://projectnessie.org/guides/kubernetes/" rel="canonical"><link href=../docker/ rel=prev><link href=../minikube/ rel=next><link rel=icon href=../../img/fav2.png><meta name=generator content="mkdocs-1.5.3, mkdocs-material-9.5.17"><title>Nessie on Kubernetes - Project Nessie: Transactional Catalog for Data Lakes with Git-like semantics</title><link rel=stylesheet href=../../assets/stylesheets/main.bcfcd587.min.css><link rel="stylesheet" href="../../assets/external/fonts.googleapis.com/css.49ea35f2.css"><style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style><link rel=stylesheet href=../../stylesheets/extra.css><script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script><script id=__analytics>function __md_analytics(){function n(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],n("js",new Date),n("config","UA-177850801-1"),document.addEventListener("DOMContentLoaded",function(){document.forms.search&&document.forms.search.query.addEventListener("blur",function(){this.value&&n("event","search",{search_term:this.value})}),document$.subscribe(function(){var a=document.forms.feedback;if(void 0!==a)for(var e of a.querySelectorAll("[type=submit]"))e.addEventListener("click",function(e){e.preventDefault();var t=document.location.pathname,e=this.getAttribute("data-md-value");n("event","feedback",{page:t,data:e}),a.firstElementChild.disabled=!0;e=a.querySelector(".md-feedback__note [data-md-value='"+e+"']");e&&(e.hidden=!1)}),a.hidden=!1}),location$.subscribe(function(e){n("config","UA-177850801-1",{page_path:e.pathname})})});var e=document.createElement("script");e.async=!0,e.src="https://www.googletagmanager.com/gtag/js?id=UA-177850801-1",document.getElementById("__analytics").insertAdjacentElement("afterEnd",e)}</script><script>"undefined"!=typeof __md_analytics&&__md_analytics()</script></head> <body dir=ltr> <input class=md-toggle data-md-toggle=drawer type=checkbox id=__drawer autocomplete=off> <input class=md-toggle data-md-toggle=search type=checkbox id=__search autocomplete=off> <label class=md-overlay for=__drawer></label> <div data-md-component=skip> <a href=#nessie-on-kubernetes class=md-skip> Skip to content </a> </div> <div data-md-component=announce> </div> <header class="md-header md-header--shadow md-header--lifted" data-md-component=header> <nav class="md-header__inner md-grid" aria-label=Header> <a href=../.. title="Project Nessie: Transactional Catalog for Data Lakes with Git-like semantics" class="md-header__button md-logo" aria-label="Project Nessie: Transactional Catalog for Data Lakes with Git-like semantics" data-md-component=logo> <img src=../../img/small.svg alt=logo> </a> <label class="md-header__button md-icon" for=__drawer> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg> </label> <div class=md-header__title data-md-component=header-title> <div class=md-header__ellipsis> <div class=md-header__topic> <span class=md-ellipsis> Project Nessie: Transactional Catalog for Data Lakes with Git-like semantics </span> </div> <div class=md-header__topic data-md-component=header-topic> <span class=md-ellipsis> Nessie on Kubernetes </span> </div> </div> </div> <script>var media,input,key,value,palette=__md_get("__palette");if(palette&&palette.color){"(prefers-color-scheme)"===palette.color.media&&(media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']"),palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent"));for([key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script> <label class="md-header__button md-icon" for=__search> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg> </label> <div class=md-search data-md-component=search role=dialog> <label class=md-search__overlay for=__search></label> <div class=md-search__inner role=search> <form class=md-search__form name=search> <input type=text class=md-search__input name=query aria-label=Search placeholder=Search autocapitalize=off autocorrect=off autocomplete=off spellcheck=false data-md-component=search-query required> <label class="md-search__icon md-icon" for=__search> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg> </label> <nav class=md-search__options aria-label=Search> <button type=reset class="md-search__icon md-icon" title=Clear aria-label=Clear tabindex=-1> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg> </button> </nav> <div class=md-search__suggest data-md-component=search-suggest></div> </form> <div class=md-search__output> <div class=md-search__scrollwrap data-md-scrollfix> <div class=md-search-result data-md-component=search-result> <div class=md-search-result__meta> Initializing search </div> <ol class=md-search-result__list role=presentation></ol> </div> </div> </div> </div> </div> <div class=md-header__source> <a href="https://github.com/projectnessie/nessie" title="Go to repository" class="md-source" data-md-component="source"> <div class="md-source__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 448 512"><!-- Font Awesome Free 6.5.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg> </div> <div class=md-source__repository> GitHub </div> </a> </div> </nav> <nav class=md-tabs aria-label=Tabs data-md-component=tabs> <div class=md-grid> <ul class=md-tabs__list> <li class="md-tabs__item md-tabs__item--active"> <a href=../ class=md-tabs__link> Guides </a> </li> <li class=md-tabs__item> <a href=../../nessie-latest/ class=md-tabs__link> Docs </a> </li> <li class=md-tabs__item> <a href=../../downloads/ class=md-tabs__link> Downloads </a> </li> <li class=md-tabs__item> <a href=../../community/ class=md-tabs__link> Community </a> </li> <li class=md-tabs__item> <a href=../../blog/ class=md-tabs__link> Blog </a> </li> </ul> </div> </nav> </header> <div class=md-container data-md-component=container> <main class=md-main data-md-component=main> <div class="md-main__inner md-grid"> <div class="md-sidebar md-sidebar--primary" data-md-component=sidebar data-md-type=navigation> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav class="md-nav md-nav--primary md-nav--lifted" aria-label=Navigation data-md-level=0> <label class=md-nav__title for=__drawer> <a href=../.. title="Project Nessie: Transactional Catalog for Data Lakes with Git-like semantics" class="md-nav__button md-logo" aria-label="Project Nessie: Transactional Catalog for Data Lakes with Git-like semantics" data-md-component=logo> <img src=../../img/small.svg alt=logo> </a> Project Nessie: Transactional Catalog for Data Lakes with Git-like semantics </label> <div class=md-nav__source> <a href="https://github.com/projectnessie/nessie" title="Go to repository" class="md-source" data-md-component="source"> <div class="md-source__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 448 512"><!-- Font Awesome Free 6.5.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg> </div> <div class=md-source__repository> GitHub </div> </a> </div> <ul class=md-nav__list data-md-scrollfix> <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_1 checked> <div class="md-nav__link md-nav__container"> <a href=../ class="md-nav__link "> <span class=md-ellipsis> Guides </span> </a> <label class="md-nav__link " for=__nav_1 id=__nav_1_label tabindex> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_1_label aria-expanded=true> <label class=md-nav__title for=__nav_1> <span class="md-nav__icon md-icon"></span> Guides </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../about/ class=md-nav__link> <span class=md-ellipsis> About Nessie </span> </a> </li> <li class="md-nav__item md-nav__item--active md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_1_3 checked> <label class=md-nav__link for=__nav_1_3 id=__nav_1_3_label tabindex=0> <span class=md-ellipsis> Setting up Nessie </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_1_3_label aria-expanded=true> <label class=md-nav__title for=__nav_1_3> <span class="md-nav__icon md-icon"></span> Setting up Nessie </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../docker/ class=md-nav__link> <span class=md-ellipsis> Setting Up Nessie </span> </a> </li> <li class="md-nav__item md-nav__item--active"> <input class="md-nav__toggle md-toggle" type=checkbox id=__toc> <label class="md-nav__link md-nav__link--active" for=__toc> <span class=md-ellipsis> Nessie on Kubernetes </span> <span class="md-nav__icon md-icon"></span> </label> <a href=./ class="md-nav__link md-nav__link--active"> <span class=md-ellipsis> Nessie on Kubernetes </span> </a> <nav class="md-nav md-nav--secondary" aria-label="Table of contents"> <label class=md-nav__title for=__toc> <span class="md-nav__icon md-icon"></span> Table of contents </label> <ul class=md-nav__list data-md-component=toc data-md-scrollfix> <li class=md-nav__item> <a href=#installing-the-helm-chart class=md-nav__link> <span class=md-ellipsis> Installing the Helm chart </span> </a> </li> <li class=md-nav__item> <a href=#customizing-the-helm-chart class=md-nav__link> <span class=md-ellipsis> Customizing the Helm chart </span> </a> <nav class=md-nav aria-label="Customizing the Helm chart"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#configuring-database-authentication class=md-nav__link> <span class=md-ellipsis> Configuring database authentication </span> </a> <nav class=md-nav aria-label="Configuring database authentication"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#providing-secrets-for-postgresql class=md-nav__link> <span class=md-ellipsis> Providing secrets for PostgreSQL </span> </a> </li> <li class=md-nav__item> <a href=#providing-secrets-for-mongodb class=md-nav__link> <span class=md-ellipsis> Providing secrets for MongoDB </span> </a> </li> <li class=md-nav__item> <a href=#providing-secrets-for-dynamodb class=md-nav__link> <span class=md-ellipsis> Providing secrets for DynamoDB </span> </a> </li> <li class=md-nav__item> <a href=#providing-secrets-for-bigtable class=md-nav__link> <span class=md-ellipsis> Providing secrets for Bigtable </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#configuring-the-version-store class=md-nav__link> <span class=md-ellipsis> Configuring the version store </span> </a> <nav class=md-nav aria-label="Configuring the version store"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#configuring-jdbc-version-stores class=md-nav__link> <span class=md-ellipsis> Configuring JDBC version stores </span> </a> </li> <li class=md-nav__item> <a href=#configuring-mongodb-version-stores class=md-nav__link> <span class=md-ellipsis> Configuring MongoDB version stores </span> </a> </li> <li class=md-nav__item> <a href=#configuring-dynamodb-version-stores class=md-nav__link> <span class=md-ellipsis> Configuring DynamoDB version stores </span> </a> </li> <li class=md-nav__item> <a href=#configuring-bigtable-version-stores class=md-nav__link> <span class=md-ellipsis> Configuring Bigtable version stores </span> </a> </li> <li class=md-nav__item> <a href=#configuring-other-datasource-types class=md-nav__link> <span class=md-ellipsis> Configuring other datasource types </span> </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#uninstalling-the-helm-chart class=md-nav__link> <span class=md-ellipsis> Uninstalling the Helm chart </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=../minikube/ class=md-nav__link> <span class=md-ellipsis> Nessie on Minikube </span> </a> </li> <li class=md-nav__item> <a href=../tls/ class=md-nav__link> <span class=md-ellipsis> TLS Ingress with Minikube </span> </a> </li> <li class=md-nav__item> <a href=../keycloak/ class=md-nav__link> <span class=md-ellipsis> Authentication with Keycloak </span> </a> </li> <li class=md-nav__item> <a href=../grafana/ class=md-nav__link> <span class=md-ellipsis> Nessie Grafana Dashboard </span> </a> </li> <li class=md-nav__item> <a href=../ui/ class=md-nav__link> <span class=md-ellipsis> Web UI </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_1_4> <label class=md-nav__link for=__nav_1_4 id=__nav_1_4_label tabindex=0> <span class=md-ellipsis> Managing Nessie </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_1_4_label aria-expanded=false> <label class=md-nav__title for=__nav_1_4> <span class="md-nav__icon md-icon"></span> Managing Nessie </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../management/ class=md-nav__link> <span class=md-ellipsis> Management Services </span> </a> </li> <li class=md-nav__item> <a href=../migration/ class=md-nav__link> <span class=md-ellipsis> Migration Guide </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_1_5> <label class=md-nav__link for=__nav_1_5 id=__nav_1_5_label tabindex=0> <span class=md-ellipsis> Concepts </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_1_5_label aria-expanded=false> <label class=md-nav__title for=__nav_1_5> <span class="md-nav__icon md-icon"></span> Concepts </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../tables-views/ class=md-nav__link> <span class=md-ellipsis> Tables and Views </span> </a> </li> <li class=md-nav__item> <a href=../transactions/ class=md-nav__link> <span class=md-ellipsis> Transactions </span> </a> </li> <li class=md-nav__item> <a href=../nessie_vs_git/ class=md-nav__link> <span class=md-ellipsis> Nessie vs Git </span> </a> </li> <li class=md-nav__item> <a href=../best-practices/ class=md-nav__link> <span class=md-ellipsis> Best Practices </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_1_6> <label class=md-nav__link for=__nav_1_6 id=__nav_1_6_label tabindex=0> <span class=md-ellipsis> Iceberg </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_1_6_label aria-expanded=false> <label class=md-nav__title for=__nav_1_6> <span class="md-nav__icon md-icon"></span> Iceberg </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../iceberg/iceberg/ class=md-nav__link> <span class=md-ellipsis> Apache Iceberg </span> </a> </li> <li class=md-nav__item> <a href=../../iceberg/spark/ class=md-nav__link> <span class=md-ellipsis> Nessie + Iceberg + Spark </span> </a> </li> <li class=md-nav__item> <a href=../../iceberg/flink/ class=md-nav__link> <span class=md-ellipsis> Nessie + Iceberg + Flink </span> </a> </li> <li class=md-nav__item> <a href=../../iceberg/hive/ class=md-nav__link> <span class=md-ellipsis> Nessie + Iceberg + Hive </span> </a> </li> <li class=md-nav__item> <a href=../../iceberg/views/ class=md-nav__link> <span class=md-ellipsis> Iceberg Views </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_1_7> <label class=md-nav__link for=__nav_1_7 id=__nav_1_7_label tabindex=0> <span class=md-ellipsis> Spark </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_1_7_label aria-expanded=false> <label class=md-nav__title for=__nav_1_7> <span class="md-nav__icon md-icon"></span> Spark </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../spark-s3/ class=md-nav__link> <span class=md-ellipsis> Accessing data in S3 with Apache Spark </span> </a> </li> <li class=md-nav__item> <a href=../sql/ class=md-nav__link> <span class=md-ellipsis> Nessie Spark SQL Extensions </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_1_8> <div class="md-nav__link md-nav__container"> <a href=../../develop/ class="md-nav__link "> <span class=md-ellipsis> Development </span> </a> <label class="md-nav__link " for=__nav_1_8 id=__nav_1_8_label tabindex=0> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_1_8_label aria-expanded=false> <label class=md-nav__title for=__nav_1_8> <span class="md-nav__icon md-icon"></span> Development </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../develop/spec/ class=md-nav__link> <span class=md-ellipsis> Nessie Specification </span> </a> </li> <li class=md-nav__item> <a href=../../develop/kernel/ class=md-nav__link> <span class=md-ellipsis> Commit Kernel </span> </a> </li> <li class=md-nav__item> <a href=../../develop/rest/ class=md-nav__link> <span class=md-ellipsis> Rest API </span> </a> </li> <li class=md-nav__item> <a href=../../develop/python/ class=md-nav__link> <span class=md-ellipsis> Python </span> </a> </li> <li class=md-nav__item> <a href=../../develop/java/ class=md-nav__link> <span class=md-ellipsis> Java </span> </a> </li> <li class=md-nav__item> <a href=../../develop/content-types/ class=md-nav__link> <span class=md-ellipsis> Nessie content types </span> </a> </li> <li class=md-nav__item> <a href=../../develop/repository-configs/ class=md-nav__link> <span class=md-ellipsis> Nessie repository configurations </span> </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_2> <label class=md-nav__link for=__nav_2 id=__nav_2_label tabindex=0> <span class=md-ellipsis> Docs </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_2_label aria-expanded=false> <label class=md-nav__title for=__nav_2> <span class="md-nav__icon md-icon"></span> Docs </label> <ul class=md-nav__list data-md-scrollfix> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_2_1> <div class="md-nav__link md-nav__container"> <a href=../../nessie-latest/ class="md-nav__link "> <span class=md-ellipsis> Latest Release </span> </a> <label class="md-nav__link " for=__nav_2_1 id=__nav_2_1_label tabindex=0> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_2_1_label aria-expanded=false> <label class=md-nav__title for=__nav_2_1> <span class="md-nav__icon md-icon"></span> Latest Release </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../nessie-latest/configuration/ class=md-nav__link> <span class=md-ellipsis> Server Configuration </span> </a> </li> <li class=md-nav__item> <a href=../../nessie-latest/security/ class=md-nav__link> <span class=md-ellipsis> Security </span> </a> </li> <li class=md-nav__item> <a href=../../nessie-latest/authentication/ class=md-nav__link> <span class=md-ellipsis> Authentication </span> </a> </li> <li class=md-nav__item> <a href=../../nessie-latest/authorization/ class=md-nav__link> <span class=md-ellipsis> Metadata Authorization </span> </a> </li> <li class=md-nav__item> <a href=../../nessie-latest/client_config/ class=md-nav__link> <span class=md-ellipsis> Client Configuration </span> </a> </li> <li class=md-nav__item> <a href=../../nessie-latest/export_import/ class=md-nav__link> <span class=md-ellipsis> Export/Import Tool </span> </a> </li> <li class=md-nav__item> <a href=../../nessie-latest/gc/ class=md-nav__link> <span class=md-ellipsis> Nessie GC </span> </a> </li> <li class=md-nav__item> <a href=../../nessie-latest/cli/ class=md-nav__link> <span class=md-ellipsis> Nessie CLI </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_2_2> <label class=md-nav__link for=__nav_2_2 id=__nav_2_2_label tabindex=0> <span class=md-ellipsis> Releases/Upgrade Notes </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_2_2_label aria-expanded=false> <label class=md-nav__title for=__nav_2_2> <span class="md-nav__icon md-icon"></span> Releases/Upgrade Notes </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../releases/ class=md-nav__link> <span class=md-ellipsis> Release Notes </span> </a> </li> <li class=md-nav__item> <a href=../../server-upgrade/ class=md-nav__link> <span class=md-ellipsis> Upgrade Notes </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_2_3> <div class="md-nav__link md-nav__container"> <a href=../../nessie-nightly/ class="md-nav__link "> <span class=md-ellipsis> Unreleased (nightly) </span> </a> <label class="md-nav__link " for=__nav_2_3 id=__nav_2_3_label tabindex=0> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_2_3_label aria-expanded=false> <label class=md-nav__title for=__nav_2_3> <span class="md-nav__icon md-icon"></span> Unreleased (nightly) </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../nessie-nightly/configuration/ class=md-nav__link> <span class=md-ellipsis> Server Configuration </span> </a> </li> <li class=md-nav__item> <a href=../../nessie-nightly/security/ class=md-nav__link> <span class=md-ellipsis> Security </span> </a> </li> <li class=md-nav__item> <a href=../../nessie-nightly/authentication/ class=md-nav__link> <span class=md-ellipsis> Authentication </span> </a> </li> <li class=md-nav__item> <a href=../../nessie-nightly/authorization/ class=md-nav__link> <span class=md-ellipsis> Metadata Authorization </span> </a> </li> <li class=md-nav__item> <a href=../../nessie-nightly/client_config/ class=md-nav__link> <span class=md-ellipsis> Client Configuration </span> </a> </li> <li class=md-nav__item> <a href=../../nessie-nightly/export_import/ class=md-nav__link> <span class=md-ellipsis> Export/Import Tool </span> </a> </li> <li class=md-nav__item> <a href=../../nessie-nightly/gc/ class=md-nav__link> <span class=md-ellipsis> Nessie GC </span> </a> </li> <li class=md-nav__item> <a href=../../nessie-nightly/cli/ class=md-nav__link> <span class=md-ellipsis> Nessie CLI </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_2_4> <div class="md-nav__link md-nav__container"> <a href=../../nessie-0-79-0/ class="md-nav__link "> <span class=md-ellipsis> Nessie 0.79.0 </span> </a> <label class="md-nav__link " for=__nav_2_4 id=__nav_2_4_label tabindex=0> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_2_4_label aria-expanded=false> <label class=md-nav__title for=__nav_2_4> <span class="md-nav__icon md-icon"></span> Nessie 0.79.0 </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../nessie-0-79-0/configuration/ class=md-nav__link> <span class=md-ellipsis> Server Configuration </span> </a> </li> <li class=md-nav__item> <a href=../../nessie-0-79-0/security/ class=md-nav__link> <span class=md-ellipsis> Security </span> </a> </li> <li class=md-nav__item> <a href=../../nessie-0-79-0/authentication/ class=md-nav__link> <span class=md-ellipsis> Authentication </span> </a> </li> <li class=md-nav__item> <a href=../../nessie-0-79-0/authorization/ class=md-nav__link> <span class=md-ellipsis> Metadata Authorization </span> </a> </li> <li class=md-nav__item> <a href=../../nessie-0-79-0/client_config/ class=md-nav__link> <span class=md-ellipsis> Client Configuration </span> </a> </li> <li class=md-nav__item> <a href=../../nessie-0-79-0/export_import/ class=md-nav__link> <span class=md-ellipsis> Export/Import Tool </span> </a> </li> <li class=md-nav__item> <a href=../../nessie-0-79-0/gc/ class=md-nav__link> <span class=md-ellipsis> Nessie GC </span> </a> </li> <li class=md-nav__item> <a href=../../nessie-0-79-0/cli/ class=md-nav__link> <span class=md-ellipsis> Nessie CLI </span> </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=../../downloads/ class=md-nav__link> <span class=md-ellipsis> Downloads </span> </a> </li> <li class=md-nav__item> <a href=../../community/ class=md-nav__link> <span class=md-ellipsis> Community </span> </a> </li> <li class=md-nav__item> <a href=../../blog/ class=md-nav__link> <span class=md-ellipsis> Blog </span> </a> </li> </ul> </nav> </div> </div> </div> <div class="md-sidebar md-sidebar--secondary" data-md-component=sidebar data-md-type=toc> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav class="md-nav md-nav--secondary" aria-label="Table of contents"> <label class=md-nav__title for=__toc> <span class="md-nav__icon md-icon"></span> Table of contents </label> <ul class=md-nav__list data-md-component=toc data-md-scrollfix> <li class=md-nav__item> <a href=#installing-the-helm-chart class=md-nav__link> <span class=md-ellipsis> Installing the Helm chart </span> </a> </li> <li class=md-nav__item> <a href=#customizing-the-helm-chart class=md-nav__link> <span class=md-ellipsis> Customizing the Helm chart </span> </a> <nav class=md-nav aria-label="Customizing the Helm chart"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#configuring-database-authentication class=md-nav__link> <span class=md-ellipsis> Configuring database authentication </span> </a> <nav class=md-nav aria-label="Configuring database authentication"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#providing-secrets-for-postgresql class=md-nav__link> <span class=md-ellipsis> Providing secrets for PostgreSQL </span> </a> </li> <li class=md-nav__item> <a href=#providing-secrets-for-mongodb class=md-nav__link> <span class=md-ellipsis> Providing secrets for MongoDB </span> </a> </li> <li class=md-nav__item> <a href=#providing-secrets-for-dynamodb class=md-nav__link> <span class=md-ellipsis> Providing secrets for DynamoDB </span> </a> </li> <li class=md-nav__item> <a href=#providing-secrets-for-bigtable class=md-nav__link> <span class=md-ellipsis> Providing secrets for Bigtable </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#configuring-the-version-store class=md-nav__link> <span class=md-ellipsis> Configuring the version store </span> </a> <nav class=md-nav aria-label="Configuring the version store"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#configuring-jdbc-version-stores class=md-nav__link> <span class=md-ellipsis> Configuring JDBC version stores </span> </a> </li> <li class=md-nav__item> <a href=#configuring-mongodb-version-stores class=md-nav__link> <span class=md-ellipsis> Configuring MongoDB version stores </span> </a> </li> <li class=md-nav__item> <a href=#configuring-dynamodb-version-stores class=md-nav__link> <span class=md-ellipsis> Configuring DynamoDB version stores </span> </a> </li> <li class=md-nav__item> <a href=#configuring-bigtable-version-stores class=md-nav__link> <span class=md-ellipsis> Configuring Bigtable version stores </span> </a> </li> <li class=md-nav__item> <a href=#configuring-other-datasource-types class=md-nav__link> <span class=md-ellipsis> Configuring other datasource types </span> </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#uninstalling-the-helm-chart class=md-nav__link> <span class=md-ellipsis> Uninstalling the Helm chart </span> </a> </li> </ul> </nav> </div> </div> </div> <div class=md-content data-md-component=content> <article class="md-content__inner md-typeset"> <h1 id=nessie-on-kubernetes>Nessie on Kubernetes<a class=headerlink href=#nessie-on-kubernetes title="Permanent link">&para;</a></h1> <p>The easiest and recommended way to get started with Nessie on Kubernetes is to use the Helm chart described below. </p> <div class="admonition note"> <p class=admonition-title>Note</p> <p>We are also working on a Kubernetes Operator for Nessie, but it is not available yet. If you are interested in deploying Nessie via an operator, please <a href="https://projectnessie.org/community/">get in touch</a>.</p> </div> <p>For more information on Helm and Helm charts, see the <a href="https://helm.sh/docs/">Helm docs</a>.</p> <h2 id=installing-the-helm-chart>Installing the Helm chart<a class=headerlink href=#installing-the-helm-chart title="Permanent link">&para;</a></h2> <p>Add the Nessie Helm repo:</p> <div class=highlight><pre><span></span><code>helm<span class=w> </span>repo<span class=w> </span>add<span class=w> </span>nessie-helm<span class=w> </span>https://charts.projectnessie.org
helm<span class=w> </span>repo<span class=w> </span>update
</code></pre></div> <p>Install the Helm chart in the <code>nessie-ns</code> namespace (create the namespace first if it doesn&rsquo;t exist), and name the release <code>nessie</code>:</p> <div class=highlight><pre><span></span><code>helm<span class=w> </span>install<span class=w> </span>-n<span class=w> </span>nessie-ns<span class=w> </span>nessie<span class=w> </span>nessie-helm/nessie
</code></pre></div> <p>Additional docs (incl. all configuration settings) can be found in the <a href="https://github.com/projectnessie/nessie/blob/main/helm/nessie/README.md">Nessie Helm chart docs</a> hosted in Nessie&rsquo;s GitHub repository. </p> <h2 id=customizing-the-helm-chart>Customizing the Helm chart<a class=headerlink href=#customizing-the-helm-chart title="Permanent link">&para;</a></h2> <p>For example, to install the Helm chart with a predefined image, simply do this:</p> <div class=highlight><pre><span></span><code>helm<span class=w> </span>install<span class=w> </span>-n<span class=w> </span>nessie-ns<span class=w> </span>nessie<span class=w> </span>nessie-helm/nessie<span class=w> </span><span class=se>\</span>
<span class=w>    </span>--set<span class=w> </span>image.repository<span class=o>=</span>ghcr.io/projectnessie/nessie<span class=w> </span><span class=se>\</span>
<span class=w>    </span>--set<span class=w> </span>image.tag<span class=o>=</span><span class=m>0</span>.79.0
</code></pre></div> <p>It&rsquo;s also useful to create more than one replica of the Nessie server. To do this, simply set the <code>replicaCount</code> value:</p> <div class=highlight><pre><span></span><code>helm<span class=w> </span>install<span class=w> </span>-n<span class=w> </span>nessie-ns<span class=w> </span>nessie<span class=w> </span>nessie-helm/nessie<span class=w> </span>--set<span class=w> </span><span class=nv>replicaCount</span><span class=o>=</span><span class=m>3</span>
</code></pre></div> <h3 id=configuring-database-authentication>Configuring database authentication<a class=headerlink href=#configuring-database-authentication title="Permanent link">&para;</a></h3> <p>Nessie supports a variety of version stores, each of which requires different configuration. For example, the JDBC version store requires a JDBC URL, username and password, while the DynamoDB version store requires AWS credentials. </p> <p><em>All database authentication options must be provided as Kubernetes secrets, and these must be created before installing the Helm chart.</em></p> <h4 id=providing-secrets-for-postgresql>Providing secrets for PostgreSQL<a class=headerlink href=#providing-secrets-for-postgresql title="Permanent link">&para;</a></h4> <ul> <li>Make sure you have a Secret in the following form:</li> </ul> <div class=highlight><pre><span></span><code>&gt; cat $PWD/postgres-creds
postgres_username=YOUR_USERNAME
postgres_password=YOUR_PASSWORD
</code></pre></div> <ul> <li>Create the secret from the given file:</li> </ul> <div class=highlight><pre><span></span><code>kubectl<span class=w> </span>create<span class=w> </span>secret<span class=w> </span>generic<span class=w> </span>postgres-creds<span class=w> </span>--from-env-file<span class=o>=</span><span class=s2>&quot;</span><span class=nv>$PWD</span><span class=s2>/postgres-creds&quot;</span>
</code></pre></div> <ul> <li>The <code>postgres-creds</code> secret will now be picked up when you use <code>JDBC</code> as the version store when installing Nessie (see below).</li> </ul> <h4 id=providing-secrets-for-mongodb>Providing secrets for MongoDB<a class=headerlink href=#providing-secrets-for-mongodb title="Permanent link">&para;</a></h4> <ul> <li>Providing secrets for MongoDB is strongly recommended, but not enforced.</li> <li>Make sure you have a Secret in the following form:</li> </ul> <div class=highlight><pre><span></span><code>&gt; cat $PWD/mongodb-creds
mongodb_username=YOUR_USERNAME
mongodb_password=YOUR_PASSWORD
</code></pre></div> <ul> <li>Create the secret from the given file:</li> </ul> <div class=highlight><pre><span></span><code>kubectl<span class=w> </span>create<span class=w> </span>secret<span class=w> </span>generic<span class=w> </span>mongodb-creds<span class=w> </span>--from-env-file<span class=o>=</span><span class=s2>&quot;</span><span class=nv>$PWD</span><span class=s2>/mongodb-creds&quot;</span>
</code></pre></div> <ul> <li>The <code>mongodb-creds</code> secret will now be picked up when you use <code>MONGODB</code> as the version store when installing Nessie (see below).</li> </ul> <h4 id=providing-secrets-for-dynamodb>Providing secrets for DynamoDB<a class=headerlink href=#providing-secrets-for-dynamodb title="Permanent link">&para;</a></h4> <ul> <li>Make sure you have a Secret in the following form:</li> </ul> <div class=highlight><pre><span></span><code>&gt; cat $PWD/awscreds
aws_access_key_id=YOURACCESSKEYDATA
aws_secret_access_key=YOURSECRETKEYDATA
</code></pre></div> <ul> <li>Create the secret from the given file:</li> </ul> <div class=highlight><pre><span></span><code>kubectl<span class=w> </span>create<span class=w> </span>secret<span class=w> </span>generic<span class=w> </span>awscreds<span class=w> </span>--from-env-file<span class=o>=</span><span class=s2>&quot;</span><span class=nv>$PWD</span><span class=s2>/awscreds&quot;</span>
</code></pre></div> <ul> <li>The <code>awscreds</code> secret will now be picked up when you use <code>DYNAMODB</code> as the version store when installing Nessie (see below).</li> </ul> <h4 id=providing-secrets-for-bigtable>Providing secrets for Bigtable<a class=headerlink href=#providing-secrets-for-bigtable title="Permanent link">&para;</a></h4> <p>A secret is not required for Bigtable. If one is present, it is assumed that authentication will use a service account JSON key. See <a href="https://cloud.google.com/iam/docs/keys-create-delete">this page</a> for details on how to create a service account key.</p> <p>If no secret is used, then Workload Identity usage is assumed instead; in this case, make sure that the pod&rsquo;s service account has been granted access to BigTable. See <a href="https://cloud.google.com/kubernetes-engine/docs/how-to/workload-identity#authenticating_to">this page</a> for details on how to create a suitable service account.</p> <p>Important: when using Workload Identity, unless the cluster is in Autopilot mode, it is also required to add the following <code>nodeSelector</code> label:</p> <div class=highlight><pre><span></span><code><span class=nt>iam.gke.io/gke-metadata-server-enabled</span><span class=p>:</span><span class=w> </span><span class=s>&quot;true&quot;</span>
</code></pre></div> <p>This is not done automatically by the chart because this selector would be invalid for Autopilot clusters.</p> <ul> <li>Make sure you have a Secret in the following form:</li> </ul> <div class=highlight><pre><span></span><code>&gt;<span class=w> </span>cat<span class=w> </span><span class=nv>$PWD</span>/bigtable-creds
<span class=nv>sa_json</span><span class=o>=</span>YOUR_SA_JSON_KEY
</code></pre></div> <ul> <li>Create the secret from the given file:</li> </ul> <div class=highlight><pre><span></span><code>kubectl<span class=w> </span>create<span class=w> </span>secret<span class=w> </span>generic<span class=w> </span>bigtable-creds<span class=w> </span>--from-env-file<span class=o>=</span><span class=s2>&quot;</span><span class=nv>$PWD</span><span class=s2>/bigtable-creds&quot;</span>
</code></pre></div> <ul> <li>The <code>bigtable-creds</code> secret will now be picked up when you use <code>BIGTABLE</code> as the version store when installing Nessie (see below).</li> </ul> <h3 id=configuring-the-version-store>Configuring the version store<a class=headerlink href=#configuring-the-version-store title="Permanent link">&para;</a></h3> <h4 id=configuring-jdbc-version-stores>Configuring JDBC version stores<a class=headerlink href=#configuring-jdbc-version-stores title="Permanent link">&para;</a></h4> <p>Let&rsquo;s assume that we want to use a PostgreSQL database. <em>The database must be created beforehand, as the Helm chart will not create it for you</em>. Let&rsquo;s assume that the database is called <code>nessie</code>. The PostgreSQL service is running at <code>postgres:5432</code> in the same namespace.</p> <p>The JDBC schema will be created automatically by Nessie if it doesn&rsquo;t exist. If it does exist, it will be used as-is. You must ensure that the schema is created with the correct permissions for the database user, and that the schema is up-to-date with the version of Nessie that you are using. Check the <a href="https://github.com/projectnessie/nessie/releases">Nessie release notes</a> for more information on schema upgrades.</p> <p>Next, we need to configure the Helm chart to use the <code>JDBC</code> version store type and to pull the database credentials from the secret that was created previously. We can do this by creating a <code>values.yaml</code> file with the following content:</p> <div class=highlight><pre><span></span><code><span class=nt>versionStoreType</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">JDBC</span>
<span class=nt>postgres</span><span class=p>:</span>
<span class=w>  </span><span class=nt>jdbcUrl</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">jdbc:postgresql://postgres:5432/nessie</span>
<span class=w>  </span><span class=nt>secret</span><span class=p>:</span>
<span class=w>    </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">postgres-creds</span>
<span class=w>    </span><span class=nt>username</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">postgres_username</span>
<span class=w>    </span><span class=nt>password</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">postgres_password</span>
</code></pre></div> <p>Then, we can install the Helm chart with the following values:</p> <div class=highlight><pre><span></span><code>helm<span class=w> </span>install<span class=w> </span>-n<span class=w> </span>nessie-ns<span class=w> </span>nessie<span class=w> </span>nessie-helm/nessie<span class=w> </span>-f<span class=w> </span>values.yaml
</code></pre></div> <h4 id=configuring-mongodb-version-stores>Configuring MongoDB version stores<a class=headerlink href=#configuring-mongodb-version-stores title="Permanent link">&para;</a></h4> <p>Let&rsquo;s assume that we want to use a MongoDB database. <em>The database must be created beforehand, as the Helm chart will not create it for you</em>. Let&rsquo;s assume that the database is called <code>nessie</code>. The MongoDB service is running at <code>mongodb:27017</code> in the same namespace.</p> <p>Then, we need to configure the Helm chart to use the <code>MONGODB</code> version store type and to pull the database credentials from the secret that was created previously. We can do this by creating a <code>values.yaml</code> file with the following content:</p> <div class=highlight><pre><span></span><code><span class=nt>versionStoreType</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">MONGODB</span>
<span class=nt>mongodb</span><span class=p>:</span>
<span class=w>  </span><span class=nt>database</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">nessie</span>
<span class=w>  </span><span class=nt>connectionString</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">mongodb://mongodb:27017</span>
<span class=w>  </span><span class=nt>secret</span><span class=p>:</span>
<span class=w>    </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">mongodb-creds</span>
<span class=w>    </span><span class=nt>username</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">mongodb_username</span>
<span class=w>    </span><span class=nt>password</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">mongodb_password</span>
</code></pre></div> <h4 id=configuring-dynamodb-version-stores>Configuring DynamoDB version stores<a class=headerlink href=#configuring-dynamodb-version-stores title="Permanent link">&para;</a></h4> <p>Let&rsquo;s assume that we want to use a DynamoDB database in the <code>us-west-2</code> region. The tables will be created automatically by Nessie if they don&rsquo;t exist.</p> <p>Then, we need to configure the Helm chart to use the <code>DYNAMODB</code> version store type and to pull the AWS credentials from the secret that was created previously. We can do this by creating a <code>values.yaml</code> file with the following content:</p> <div class=highlight><pre><span></span><code><span class=nt>versionStoreType</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">DYNAMODB</span>
<span class=nt>dynamodb</span><span class=p>:</span>
<span class=w>  </span><span class=nt>region</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">us-west-2</span>
<span class=w>  </span><span class=nt>secret</span><span class=p>:</span>
<span class=w>    </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">awscreds</span>
<span class=w>    </span><span class=nt>awsAccessKeyId</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">aws_access_key_id</span>
<span class=w>    </span><span class=nt>awsSecretAccessKey</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">aws_secret_access_key</span>
</code></pre></div> <h4 id=configuring-bigtable-version-stores>Configuring Bigtable version stores<a class=headerlink href=#configuring-bigtable-version-stores title="Permanent link">&para;</a></h4> <p>Let&rsquo;s assume that we want to use a Bigtable instance named <code>nessie-bigtable</code> in the <code>prod-us</code> project, using the default profile id. The tables will be created automatically by Nessie if they don&rsquo;t exist, but the instance must be created and configured beforehand.</p> <p>Then, we need to configure the Helm chart to use the <code>BIGTABLE</code> version store type and to pull the Bigtable credentials from the secret that was created previously. We can do this by creating a <code>values.yaml</code> file with the following content:</p> <div class=highlight><pre><span></span><code><span class=nt>versionStoreType</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">BIGTABLE</span>
<span class=nt>bigtable</span><span class=p>:</span>
<span class=w>  </span><span class=nt>projectId</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">prod-us</span>
<span class=w>  </span><span class=nt>instanceId</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">nessie-bigtable</span>
<span class=w>  </span><span class=nt>appProfileId</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">default</span>
</code></pre></div> <p>The above will use Workload Identity. If you are using instead a service account JSON key as described above, you can also specify it in the <code>values.yaml</code> file:</p> <div class=highlight><pre><span></span><code><span class=nt>versionStoreType</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">BIGTABLE</span>
<span class=nt>bigtable</span><span class=p>:</span>
<span class=w>  </span><span class=nt>projectId</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">prod-us</span>
<span class=w>  </span><span class=nt>instanceId</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">nessie-bigtable</span>
<span class=w>  </span><span class=nt>appProfileId</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">default</span>
<span class=w>  </span><span class=nt>secret</span><span class=p>:</span>
<span class=w>    </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">bigtable-creds</span>
<span class=w>    </span><span class=nt>key</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">sa_json</span>
</code></pre></div> <h4 id=configuring-other-datasource-types>Configuring other datasource types<a class=headerlink href=#configuring-other-datasource-types title="Permanent link">&para;</a></h4> <p>Other datasource types are supported, and most of them have mandatory and optional configuration options. Again, check the <a href="https://github.com/projectnessie/nessie/blob/main/helm/nessie/README.md">Nessie Helm chart docs</a> for more information.</p> <h2 id=uninstalling-the-helm-chart>Uninstalling the Helm chart<a class=headerlink href=#uninstalling-the-helm-chart title="Permanent link">&para;</a></h2> <p>To uninstall the Helm chart and delete the <code>nessie</code> release from the <code>nessie-ns</code> namespace:</p> <div class=highlight><pre><span></span><code>helm<span class=w> </span>uninstall<span class=w> </span>-n<span class=w> </span>nessie-ns<span class=w> </span>nessie
</code></pre></div> </article> </div> <script>var tabs=__md_get("__tabs");if(Array.isArray(tabs))e:for(var set of document.querySelectorAll(".tabbed-set")){var tab,labels=set.querySelector(".tabbed-labels");for(tab of tabs)for(var label of labels.getElementsByTagName("label"))if(label.innerText.trim()===tab){var input=document.getElementById(label.htmlFor);input.checked=!0;continue e}}</script> <script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script> </div> <button type=button class="md-top md-icon" data-md-component=top hidden> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12Z"/></svg> Back to top </button> </main> <!--
  Copyright (c) 2016-2020 Martin Donath <martin.donath@squidfunk.com>

  Permission is hereby granted, free of charge, to any person obtaining a copy
  of this software and associated documentation files (the "Software"), to
  deal in the Software without restriction, including without limitation the
  rights to use, copy, modify, merge, publish, distribute, sublicense, and/or
  sell copies of the Software, and to permit persons to whom the Software is
  furnished to do so, subject to the following conditions:

  The above copyright notice and this permission notice shall be included in
  all copies or substantial portions of the Software.

  THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
  IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
  FITNESS FOR A PARTICULAR PURPOSE AND NON-INFRINGEMENT. IN NO EVENT SHALL THE
  AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
  LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
  FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS
  IN THE SOFTWARE.
--> <!-- Application footer --> <footer class=md-footer> <!-- Further information --> <div class="md-footer-meta md-typeset"> <div class="md-footer-meta__inner md-grid"> <!-- Copyright and theme information --> <div class=md-footer-copyright> </div> <!-- Social links --> <div class=md-social> <a href="https://project-nessie.zulipchat.com/" target="_blank" rel="noopener" title="project-nessie.zulipchat.com" class="md-social__link"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M22.767 3.589c0 1.209-.543 2.283-1.37 2.934l-8.034 7.174c-.149.128-.343-.078-.235-.25l2.946-5.9c.083-.165-.024-.368-.194-.368H4.452c-1.77 0-3.219-1.615-3.219-3.59C1.233 1.616 2.682 0 4.452 0h15.096c1.77-.001 3.219 1.614 3.219 3.589zM4.452 24h15.096c1.77 0 3.219-1.616 3.219-3.59 0-1.974-1.449-3.59-3.219-3.59H8.12c-.17 0-.277-.202-.194-.367l2.946-5.9c.108-.172-.086-.378-.235-.25l-8.033 7.173c-.828.65-1.37 1.725-1.37 2.934 0 1.974 1.448 3.59 3.218 3.59z"/></svg> </a> <a href="https://twitter.com/projectnessie" target="_blank" rel="noopener" title="twitter.com" class="md-social__link"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 512 512"><!-- Font Awesome Free 6.5.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M459.37 151.716c.325 4.548.325 9.097.325 13.645 0 138.72-105.583 298.558-298.558 298.558-59.452 0-114.68-17.219-161.137-47.106 8.447.974 16.568 1.299 25.34 1.299 49.055 0 94.213-16.568 130.274-44.832-46.132-.975-84.792-31.188-98.112-72.772 6.498.974 12.995 1.624 19.818 1.624 9.421 0 18.843-1.3 27.614-3.573-48.081-9.747-84.143-51.98-84.143-102.985v-1.299c13.969 7.797 30.214 12.67 47.431 13.319-28.264-18.843-46.781-51.005-46.781-87.391 0-19.492 5.197-37.36 14.294-52.954 51.655 63.675 129.3 105.258 216.365 109.807-1.624-7.797-2.599-15.918-2.599-24.04 0-57.828 46.782-104.934 104.934-104.934 30.213 0 57.502 12.67 76.67 33.137 23.715-4.548 46.456-13.32 66.599-25.34-7.798 24.366-24.366 44.833-46.132 57.827 21.117-2.273 41.584-8.122 60.426-16.243-14.292 20.791-32.161 39.308-52.628 54.253z"/></svg> </a> <a href="https://ghcr.io/projectnessie/nessie" target="_blank" rel="noopener" title="ghcr.io" class="md-social__link"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 640 512"><!-- Font Awesome Free 6.5.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M349.9 236.3h-66.1v-59.4h66.1v59.4zm0-204.3h-66.1v60.7h66.1V32zm78.2 144.8H362v59.4h66.1v-59.4zm-156.3-72.1h-66.1v60.1h66.1v-60.1zm78.1 0h-66.1v60.1h66.1v-60.1zm276.8 100c-14.4-9.7-47.6-13.2-73.1-8.4-3.3-24-16.7-44.9-41.1-63.7l-14-9.3-9.3 14c-18.4 27.8-23.4 73.6-3.7 103.8-8.7 4.7-25.8 11.1-48.4 10.7H2.4c-8.7 50.8 5.8 116.8 44 162.1 37.1 43.9 92.7 66.2 165.4 66.2 157.4 0 273.9-72.5 328.4-204.2 21.4.4 67.6.1 91.3-45.2 1.5-2.5 6.6-13.2 8.5-17.1l-13.3-8.9zm-511.1-27.9h-66v59.4h66.1v-59.4zm78.1 0h-66.1v59.4h66.1v-59.4zm78.1 0h-66.1v59.4h66.1v-59.4zm-78.1-72.1h-66.1v60.1h66.1v-60.1z"/></svg> </a> <a href="https://github.com/projectnessie/nessie" target="_blank" rel="noopener" title="github.com" class="md-social__link"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 496 512"><!-- Font Awesome Free 6.5.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg> </a> <a href="https://www.youtube.com/channel/UC5xjzYuGGuGPCY9FNtqZMsQ?view_as=subscriber" target="_blank" rel="noopener" title="www.youtube.com" class="md-social__link"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 576 512"><!-- Font Awesome Free 6.5.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M549.655 124.083c-6.281-23.65-24.787-42.276-48.284-48.597C458.781 64 288 64 288 64S117.22 64 74.629 75.486c-23.497 6.322-42.003 24.947-48.284 48.597-11.412 42.867-11.412 132.305-11.412 132.305s0 89.438 11.412 132.305c6.281 23.65 24.787 41.5 48.284 47.821C117.22 448 288 448 288 448s170.78 0 213.371-11.486c23.497-6.321 42.003-24.171 48.284-47.821 11.412-42.867 11.412-132.305 11.412-132.305s0-89.438-11.412-132.305zm-317.51 213.508V175.185l142.739 81.205-142.739 81.201z"/></svg> </a> </div> </div> </div> </footer> </div> <div class=md-dialog data-md-component=dialog> <div class="md-dialog__inner md-typeset"></div> </div> <script id=__config type=application/json>{"base": "../..", "features": ["navigation.tabs", "navigation.tabs.sticky", "navigation.indexes", "navigation.top", "navigation.tracking", "search.suggest", "search.highlight", "content.tabs.link", "content.code.copy", "content.code.annotate"], "search": "../../assets/javascripts/workers/search.b8dbb3d2.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}}</script> <script src=../../assets/javascripts/bundle.1e8ae164.min.js></script> </body> </html>